{"ast":null,"code":"\"use strict\";\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar useRecorder = function useRecorder(_a) {\n  var path = _a.path,\n      pointDistance = _a.pointDistance,\n      onCapture = _a.onCapture;\n\n  var _b = react_1.useState(0),\n      pathIndex = _b[0],\n      setPathIndex = _b[1];\n\n  var _c = react_1.useState([]),\n      gesture = _c[0],\n      setGesture = _c[1];\n\n  var _d = react_1.useState([{\n    x: null,\n    y: null\n  }]),\n      gestureDirectionHistory = _d[0],\n      setGestureDirectionHistory = _d[1];\n\n  react_1.useEffect(function () {\n    if (pathIndex < path.length - 1) {\n      if (JSON.stringify(path[pathIndex]) !== JSON.stringify(path[pathIndex + 1])) {\n        if (gesture.length === 0) {\n          setGesture([{\n            x: path[0].x,\n            y: path[0].y\n          }]);\n        } else {\n          if (calculateDistance(gesture[gesture.length - 1], path[pathIndex]) >= pointDistance) {\n            var nextDirection_1 = calculateDirection(gesture[gesture.length - 1], path[pathIndex]);\n            setGestureDirectionHistory(function (state) {\n              return __spreadArrays(state, [nextDirection_1]);\n            });\n            setGesture(function (state) {\n              return __spreadArrays(state, [path[pathIndex]]);\n            });\n            onCapture();\n          }\n        }\n      }\n\n      setPathIndex(function (state) {\n        return state + 1;\n      });\n    }\n  }, [gesture, path, pointDistance, pathIndex]);\n\n  var reset = function reset() {\n    setPathIndex(0);\n    setGesture([]);\n    setGestureDirectionHistory([{\n      x: null,\n      y: null\n    }]);\n  };\n\n  var calculateDirection = function calculateDirection(pointA, pointB) {\n    var x = null,\n        y = null;\n\n    if (pointA.x < pointB.x) {\n      x = \"right\";\n    }\n\n    if (pointA.x > pointB.x) {\n      x = \"left\";\n    }\n\n    if (pointA.y < pointB.y) {\n      y = \"down\";\n    }\n\n    if (pointA.y > pointB.y) {\n      y = \"up\";\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var directionHasChanged = function directionHasChanged(currentDirection, nextDirection) {\n    return JSON.stringify(currentDirection) !== JSON.stringify(nextDirection);\n  };\n\n  var calculateDistance = function calculateDistance(pointA, pointB) {\n    return Math.sqrt(Math.pow(pointA.x - pointB.x, 2) + Math.pow(pointA.y - pointB.y, 2));\n  };\n\n  return {\n    gesture: gesture,\n    gestureDirectionHistory: gestureDirectionHistory,\n    reset: reset\n  };\n};\n\nexports.default = useRecorder;","map":{"version":3,"sources":["C:/Users/Naor/Visual Code Files/WorkersManager/node_modules/react-native-gesture-detector/dist/useRecorder.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","Object","defineProperty","exports","value","react_1","require","useRecorder","_a","path","pointDistance","onCapture","_b","useState","pathIndex","setPathIndex","_c","gesture","setGesture","_d","x","y","gestureDirectionHistory","setGestureDirectionHistory","useEffect","JSON","stringify","calculateDistance","nextDirection_1","calculateDirection","state","reset","pointA","pointB","directionHasChanged","currentDirection","nextDirection","Math","sqrt","pow","default"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\n// point and coordinate are essentially interface. the difference is merely,\n// that i find \"point\" more clear for the outside user (e.g. \"pointDistance\" sounds\n// clearer imho than \"coordinateDistance\"), while coordinate is just an internal\n// variable name\nvar useRecorder = function (_a) {\n    var path = _a.path, pointDistance = _a.pointDistance, onCapture = _a.onCapture;\n    var _b = react_1.useState(0), pathIndex = _b[0], setPathIndex = _b[1];\n    var _c = react_1.useState([]), gesture = _c[0], setGesture = _c[1];\n    // first element is null, as we don't have a direction with only one coordinate\n    var _d = react_1.useState([\n        { x: null, y: null },\n    ]), gestureDirectionHistory = _d[0], setGestureDirectionHistory = _d[1];\n    react_1.useEffect(function () {\n        if (pathIndex < path.length - 1) {\n            if (JSON.stringify(path[pathIndex]) !== JSON.stringify(path[pathIndex + 1])) {\n                if (gesture.length === 0) {\n                    setGesture([{ x: path[0].x, y: path[0].y }]);\n                }\n                else {\n                    if (calculateDistance(gesture[gesture.length - 1], path[pathIndex]) >= pointDistance) {\n                        var nextDirection_1 = calculateDirection(gesture[gesture.length - 1], path[pathIndex]);\n                        setGestureDirectionHistory(function (state) { return __spreadArrays(state, [nextDirection_1]); });\n                        setGesture(function (state) { return __spreadArrays(state, [path[pathIndex]]); });\n                        onCapture();\n                    }\n                }\n            }\n            setPathIndex(function (state) { return state + 1; });\n        }\n    }, [gesture, path, pointDistance, pathIndex]);\n    var reset = function () {\n        setPathIndex(0);\n        setGesture([]);\n        setGestureDirectionHistory([{ x: null, y: null }]);\n    };\n    var calculateDirection = function (pointA, pointB) {\n        var x = null, y = null;\n        if (pointA.x < pointB.x) {\n            x = \"right\";\n        }\n        if (pointA.x > pointB.x) {\n            x = \"left\";\n        }\n        if (pointA.y < pointB.y) {\n            y = \"down\";\n        }\n        if (pointA.y > pointB.y) {\n            y = \"up\";\n        }\n        return {\n            x: x,\n            y: y,\n        };\n    };\n    // possibly for future computation\n    var directionHasChanged = function (currentDirection, nextDirection) {\n        return JSON.stringify(currentDirection) !== JSON.stringify(nextDirection);\n    };\n    var calculateDistance = function (pointA, pointB) {\n        return Math.sqrt(Math.pow(pointA.x - pointB.x, 2) + Math.pow(pointA.y - pointB.y, 2));\n    };\n    return {\n        gesture: gesture,\n        gestureDirectionHistory: gestureDirectionHistory,\n        reset: reset,\n    };\n};\nexports.default = useRecorder;\n"]},"metadata":{},"sourceType":"script"}