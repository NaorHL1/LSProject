{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from 'expo-status-bar';\nimport { useState } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { LangPicker } from \"../components/LangPicker\";\nimport CustomInput from \"../components/CustomInput\";\nimport Icon from \"@expo/vector-icons/Entypo\";\nimport CustomButton from \"../components/CustomButton\";\nimport react from 'react';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { Trans, useTranslation, initReactI18next } from \"react-i18next\";\nimport { API } from \"../config\";\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar WIDTH = Dimensions.get('window').width;\nvar HEIGHT = Dimensions.get('window').height;\nexport default function AppHome() {\n  var navigation = useNavigation();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var route = useRoute();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isUpdating = _useState2[0],\n      setUpdating = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isAdding = _useState4[0],\n      setAdding = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      disable = _useState6[0],\n      setDisable = _useState6[1];\n\n  var onAdd = function onAdd() {\n    if (!disable) {\n      setDisable(true);\n\n      if (isValidForm()) {\n        axios.post(API + \"/addemployee\", {\n          fname: Fname,\n          lname: Lname,\n          phone: Phone,\n          address: Address,\n          roll: Roll\n        }, config).then(function (response) {\n          console.log(response);\n          setAdding(false);\n          setDisable(false);\n          navigation.replace('WebHome');\n        }).catch(function (error) {\n          if (currentlanguage === 'En') {\n            alert('Something went Wrong! Try Again');\n          } else {\n            alert('משהו קרה נסה שוב!');\n          }\n\n          setDisable(false);\n        });\n      } else {\n        setDisable(false);\n        return;\n      }\n    }\n  };\n\n  var updateItem = function updateItem() {\n    if (!disable) {\n      setDisable(true);\n\n      if (isValidForm()) {\n        axios.post(API + \"/update\", {\n          id: Id,\n          fname: Fname,\n          lname: Lname,\n          phone: Phone,\n          address: Address,\n          roll: Roll\n        }, config).then(function (response) {\n          console.log(response);\n          setUpdating(false);\n          setDisable(false);\n          navigation.replace('WebHome');\n        }).catch(function (error) {\n          if (currentlanguage === 'En') {\n            alert('Something went Wrong! Try Again');\n          } else {\n            alert('משהו קרה נסה שוב!');\n          }\n\n          setDisable(false);\n        });\n      } else {\n        setDisable(false);\n        return;\n      }\n    }\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: {\n      flex: 1,\n      backgroundColor: '#edf1f2'\n    },\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsxs(View, {\n      style: {\n        width: '90%',\n        alignSelf: 'center'\n      },\n      children: [_jsx(Icon, {\n        onPress: function onPress() {\n          return navigation.replace('SignIn');\n        },\n        name: \"chevron-small-left\",\n        size: 50,\n        style: {\n          color: 'lightslategrey',\n          marginTop: 15\n        }\n      }), _jsx(Text, {\n        style: styles.sectionTitle,\n        children: t('Add Employees')\n      }), _jsx(CustomInput, {\n        value: Fname,\n        setValue: setFname,\n        direct: 'left',\n        placeholder: t('First Name')\n      }), _jsx(CustomInput, {\n        value: Lname,\n        setValue: setLname,\n        direct: 'left',\n        placeholder: t('Last Name')\n      }), _jsx(CustomInput, {\n        value: Phone,\n        setValue: setPhone,\n        direct: 'left',\n        placeholder: t('Phone')\n      }), _jsx(CustomInput, {\n        value: Address,\n        setValue: setAddress,\n        direct: 'left',\n        placeholder: t('Address')\n      }), _jsx(CustomInput, {\n        value: Roll,\n        setValue: setRoll,\n        direct: 'left',\n        placeholder: t('Roll')\n      }), isAdding ? _jsx(CustomButton, {\n        disable: disable,\n        onPress: onAdd,\n        text: t('Add')\n      }) : _jsx(CustomButton, {\n        disable: disable,\n        onPress: updateItem,\n        text: t('Update')\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    resizeMode: 'contain',\n    flex: 1\n  },\n  sectionTitle: {\n    alignSelf: 'flex-start',\n    marginTop: 50,\n    fontSize: 20,\n    fontWeight: 'bold',\n    fontFamily: 'sans-serif'\n  },\n  whiteb: {\n    marginTop: 50,\n    backgroundColor: 'white',\n    height: 500,\n    width: '100%'\n  }\n});","map":{"version":3,"sources":["C:/Users/Naor/Visual Code Files/WorkersManager/Screens/AppHome.js"],"names":["StatusBar","useState","LangPicker","CustomInput","Icon","CustomButton","react","useNavigation","useRoute","Trans","useTranslation","initReactI18next","API","axios","WIDTH","Dimensions","get","width","HEIGHT","height","AppHome","navigation","t","i18n","route","isUpdating","setUpdating","isAdding","setAdding","disable","setDisable","onAdd","isValidForm","post","fname","Fname","lname","Lname","phone","Phone","address","Address","roll","Roll","config","then","response","console","log","replace","catch","error","currentlanguage","alert","updateItem","id","Id","flex","backgroundColor","alignSelf","color","marginTop","styles","sectionTitle","setFname","setLname","setPhone","setAddress","setRoll","StyleSheet","create","container","resizeMode","fontSize","fontWeight","fontFamily","whiteb"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport { useState } from 'react';\r\nimport { SafeAreaView, StyleSheet, Text, TouchableOpacity, View,Modal,Platform,Image,\r\nDimensions, ImageBackground,ScrollView,KeyboardAvoidingView} from 'react-native';\r\nimport {LangPicker} from '../components/LangPicker';\r\nimport CustomInput from '../components/CustomInput';\r\nimport Icon from 'react-native-vector-icons/Entypo';\r\nimport CustomButton from '../components/CustomButton';\r\nimport react from 'react';\r\nimport { useNavigation ,useRoute} from '@react-navigation/native';\r\nimport { Trans,useTranslation, initReactI18next } from \"react-i18next\";\r\nimport { API } from '../config';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\n\r\nconst WIDTH=Dimensions.get('window').width;\r\nconst HEIGHT=Dimensions.get('window').height;\r\n\r\nexport default function AppHome() {\r\n\r\n    const navigation=useNavigation();\r\n    const {t,i18n} = useTranslation();\r\n\r\n    const route =useRoute();\r\n\r\n    const [isUpdating,setUpdating]=useState(false);\r\n    const [isAdding,setAdding]=useState(false);\r\n    const [disable, setDisable]=useState(false);\r\n\r\n    const onAdd=()=>{\r\n        if(!disable){\r\n        setDisable(true);\r\n        if(isValidForm()){\r\n          axios.post(`${API}/addemployee`,{\r\n            fname:Fname,\r\n            lname:Lname,\r\n            phone:Phone,\r\n            address:Address,\r\n            roll:Roll\r\n          },config)\r\n          .then(function (response) {\r\n            console.log(response);\r\n            setAdding(false);\r\n            setDisable(false);\r\n            navigation.replace('WebHome');\r\n          })\r\n          .catch(function (error) {\r\n            if(currentlanguage==='En'){\r\n            alert('Something went Wrong! Try Again')\r\n            }\r\n            else{\r\n            alert('משהו קרה נסה שוב!')\r\n            }\r\n            setDisable(false);\r\n          });\r\n        }\r\n        else{\r\n            setDisable(false);\r\n            return;\r\n        }\r\n        }\r\n    }\r\n\r\n    const updateItem=()=>{\r\n        if(!disable){\r\n        setDisable(true);\r\n        if(isValidForm()){\r\n          axios.post(`${API}/update`,{\r\n            id:Id,\r\n            fname:Fname,\r\n            lname:Lname,\r\n            phone:Phone,\r\n            address:Address,\r\n            roll:Roll\r\n          },config)\r\n          .then(function (response) {\r\n            console.log(response);\r\n            setUpdating(false);\r\n            setDisable(false);\r\n            navigation.replace('WebHome');\r\n          })\r\n          .catch(function (error) {\r\n            if(currentlanguage==='En'){\r\n              alert('Something went Wrong! Try Again')\r\n              }\r\n              else{\r\n              alert('משהו קרה נסה שוב!')\r\n              }\r\n            setDisable(false);\r\n          });\r\n        }\r\n        else{\r\n            setDisable(false);\r\n            return;\r\n        }\r\n        }\r\n    }\r\n\r\n    return(\r\n    <SafeAreaView style={{flex:1,backgroundColor: '#edf1f2'}}>\r\n      <StatusBar style=\"auto\" />\r\n      <View style={{width:'90%',alignSelf:'center'}}>\r\n      <Icon onPress={()=>navigation.replace('SignIn')} name=\"chevron-small-left\" size={50} style={{color:'lightslategrey',marginTop:15}}/>\r\n      <Text style={styles.sectionTitle}>{t('Add Employees')}</Text>\r\n      <CustomInput value={Fname} setValue={setFname} direct={'left'} placeholder={t('First Name')} />\r\n      <CustomInput value={Lname} setValue={setLname} direct={'left'} placeholder={t('Last Name')} />\r\n      <CustomInput value={Phone} setValue={setPhone} direct={'left'} placeholder={t('Phone')} />\r\n      <CustomInput value={Address} setValue={setAddress} direct={'left'} placeholder={t('Address')} />\r\n      <CustomInput value={Roll} setValue={setRoll} direct={'left'} placeholder={t('Roll')} />\r\n      {isAdding?<CustomButton disable={disable} onPress={onAdd} text={t('Add')}></CustomButton>:\r\n      <CustomButton disable={disable} onPress={updateItem} text={t('Update')}></CustomButton>}\r\n      </View>\r\n    </SafeAreaView>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container:{\r\n        resizeMode: 'contain',\r\n        flex:1,\r\n    },\r\n    sectionTitle:{\r\n        alignSelf:'flex-start',\r\n        marginTop:50,\r\n        fontSize: 20,\r\n        fontWeight: 'bold',\r\n        fontFamily:'sans-serif',\r\n    },\r\n    whiteb:{\r\n        marginTop:50,\r\n        backgroundColor:'white',\r\n        height:500,\r\n        width:'100%',\r\n    },\r\n})"]},"metadata":{},"sourceType":"module"}